<list-query>


    <query name="it.csi.stacore.stacoresrv.integration.dao.oracle.select.selecttavoletrasversali.SelectComuneById">
        <![CDATA[
		SELECT L.ID_LUOGO, L.ID_NAZIONE, L.DENOMINAZIONE,
		L.STATO, L.TIPO_LUOGO, L.COD_MF,
		L.ID_LUOGO_NUOVO, L.ID_PROVINCIA, L.COD_ISTAT,
		L.CAP, L.COD_CATASTALE, L.DT_INIZIO_VALIDITA,
		L.DT_FINE_VALIDITA, L.DT_INSERIMENTO, L.DT_AGGIORNAMENTO,
		P.SIGLA_PROVINCIA
		FROM CMN_D_LUOGO L, CMN_D_PROVINCIA P
		WHERE L.ID_PROVINCIA = P.ID_PROVINCIA AND L.TIPO_LUOGO = 'ITA'
		AND L.ID_LUOGO = ?
		]]>
    </query>
    
    
    <query name="it.csi.stacore.stacoresrv.integration.dao.oracle.select.selecttavoletrasversali.SelectComuneByCodiceIstat">
        <![CDATA[
		SELECT L.ID_LUOGO, L.DENOMINAZIONE, L.COD_ISTAT
		FROM CMN_D_LUOGO L
		WHERE L.COD_ISTAT = ?
		]]>
    </query>
    
    
    <query name="it.csi.stacore.stacoresrv.integration.dao.oracle.select.selecttavoletrasversali.SelectComune">
        <body><![CDATA[
				SELECT L.ID_LUOGO, L.ID_NAZIONE, L.DENOMINAZIONE,
				L.STATO, L.TIPO_LUOGO, L.COD_MF,
				L.ID_LUOGO_NUOVO, L.ID_PROVINCIA, L.COD_ISTAT,
				L.CAP, L.COD_CATASTALE, L.DT_INIZIO_VALIDITA,
				L.DT_FINE_VALIDITA, L.DT_INSERIMENTO, L.DT_AGGIORNAMENTO,
				P.SIGLA_PROVINCIA
		]]>
        </body>
        <from><![CDATA[
		FROM CMN_D_LUOGO L, CMN_D_PROVINCIA P
		]]>
        </from>
        <where><![CDATA[
		WHERE L.ID_PROVINCIA = P.ID_PROVINCIA AND L.TIPO_LUOGO = 'ITA'
		AND L.DENOMINAZIONE LIKE ? AND L.TIPO_LUOGO <> 'NAZ'
	 ]]>
            <paramWhere id="dataInizioMaggiore"><![CDATA[
	 AND L.DT_INIZIO_VALIDITA = (SELECT MAX (DT_INIZIO_VALIDITA)
	 							 FROM CMN_D_LUOGO
	 							 WHERE DENOMINAZIONE = L.DENOMINAZIONE)
		 ]]>
            </paramWhere>
            <paramWhere id="dataFine"><![CDATA[
		AND (L.DT_FINE_VALIDITA IS NULL OR L.DT_FINE_VALIDITA >= ?)
		AND L.DT_INIZIO_VALIDITA < ?
		 ]]>
            </paramWhere>
            <paramWhere id="codIstatRegione"><![CDATA[
		AND P.COD_ISTAT_REGIONE=?
		 ]]>
            </paramWhere>
        </where>
        <orderBy><![CDATA[
		ORDER BY L.DENOMINAZIONE
		]]>
        </orderBy>
    </query>
    
    
    
     <query name="it.csi.stacore.stacoresrv.integration.dao.oracle.select.selecttavoletrasversali.SelectNazioneById">
        <body>
            <![CDATA[
			SELECT ID_NAZIONE, DENOMINAZIONE DESC_NAZIONE FROM CMN_D_LUOGO
   			]]>
        </body>
        <where>
            <![CDATA[
			WHERE ID_NAZIONE = ?
	      	]]>
        </where>
    </query>
    
    <query name="it.csi.stacore.stacoresrv.integration.dao.oracle.select.selecttavoletrasversali.SelectNazione">
        <body>
            <![CDATA[
			SELECT ID_NAZIONE, DENOMINAZIONE DESC_NAZIONE FROM CMN_D_LUOGO
   			]]>
        </body>
        <where>
            <![CDATA[
			WHERE (DT_FINE_VALIDITA IS NULL OR DT_FINE_VALIDITA >= ?) AND TIPO_LUOGO = 'NAZ' AND ID_NAZIONE <> 999998
	      	]]>
            <paramWhere id="nazione">AND DENOMINAZIONE LIKE ? </paramWhere>
        </where>
        <orderBy>
            ORDER BY DENOMINAZIONE
        </orderBy>
    </query>
    
    
     <query name="it.csi.stacore.stacoresrv.integration.dao.oracle.select.selecttavoletrasversali.SelectProvince">
        <body>
            <![CDATA[
                SELECT
                    ID_PROVINCIA AS ID,
                    SIGLA_PROVINCIA AS CODICE,
                    DESC_PROVINCIA AS DESCRIZIONE,
                    COD_ISTAT AS ISTAT
            ]]>
        </body>
        <from>
            <![CDATA[
			    FROM CMN_D_PROVINCIA
	      	]]>
        </from>
        <where>
            <![CDATA[
			    WHERE
	      	]]>
            <paramWhere id="idRegione">COD_ISTAT_REGIONE = ? </paramWhere>
        </where>
        <orderBy>
            ORDER BY DESCRIZIONE
        </orderBy>
    </query>

</list-query>
